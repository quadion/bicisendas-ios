jQuery.extendIf=function(d,e){if(d&&e){for(var b in e){if(typeof d[b]=="undefined"){d[b]=e[b]}}}return d};if(typeof(Ext)=="undefined"){jQuery.extend(Function.prototype,{createCallback:function(){var b=arguments;var c=this;return function(){return c.apply(window,b)}},createDelegate:function(d,c,b){var e=this;return function(){var g=c||arguments;if(b===true){g=Array.prototype.slice.call(arguments,0);g=g.concat(c)}else{if(typeof b=="number"){g=Array.prototype.slice.call(arguments,0);var f=[b,0].concat(c);Array.prototype.splice.apply(g,f)}}return e.apply(d||window,g)}},defer:function(d,f,c,b){var e=this.createDelegate(f,c,b);if(d){return setTimeout(e,d)}e();return 0},createSequence:function(c,b){if(typeof c!="function"){return this}var d=this;return function(){var e=d.apply(this||window,arguments);c.apply(b||this||window,arguments);return e}},createInterceptor:function(c,b){if(typeof c!="function"){return this}var d=this;return function(){c.target=this;c.method=d;if(c.apply(b||this||window,arguments)===false){return}return d.apply(this||window,arguments)}}});jQuery.extendIf(String,{escape:function(b){return b.replace(/('|\\)/g,"\\$1")},leftPad:function(e,c,d){var b=new String(e);if(!d){d=" "}while(b.length<c){b=d+b}return b.toString()},format:function(c){var b=Array.prototype.slice.call(arguments,1);return c.replace(/\{(\d+)\}/g,function(d,e){return b[e]})}})}String.prototype.isInteger=function(){return !isNaN(parseInt(this))};String.prototype.isFloat=function(){return !isNaN(parseFloat(this))};String.prototype.toggle=function(c,b){return this==c?b:c};String.prototype.trim=function(){var b=/^\s+|\s+$/g;return function(){return this.replace(b,"")}}();String.prototype.translate=function(e,d){if(!(e.length&&d.length)||e.length!=d.length){return this}var c=this;for(var b=0;b<e.length;b++){if(typeof(e)=="string"){c=c.replace(new RegExp(e.charAt(b),"g"),d.charAt(b))}else{c=c.replace(new RegExp(e[b],"g"),d[b])}}return c};String.prototype.isDigit=function(){return/^\d+$/.test(this)};String.prototype.removeWords=function(f){var e=this.split(" ");var d=new Array();for(var c=0;c<e.length;c++){d.push(e[c]);for(var b=0;b<f.length;b++){if(d[c]==f[b]){d.pop();break}}}return d.join(" ")};jQuery.extendIf(Number.prototype,{constrain:function(c,b){return Math.min(Math.max(this,c),b)},isInteger:function(){return !isNaN(parseInt(this))},isFloat:function(){return !isNaN(parseFloat(this))}});jQuery.extendIf(Array.prototype,{indexOf:function(d){for(var c=0,b=this.length;c<b;c++){if(this[c]==d){return c}}return -1},removeObject:function(c){var b=this.indexOf(c);if(b!=-1){this.splice(b,1)}return this},binarySearch:function binarySearch(g,c){var b=0,f=this.length-1,d,e;while(b<=f){d=parseInt((b+f)/2,10);e=c(this[d],g);if(e<0){b=d+1;continue}if(e>0){f=d-1;continue}return d}return -1},inject:function(d,c){for(var b=0;b<this.length;b++){d=c(d,this[b],b)}return d},map:function(e,d){var b=new Array(this.length);for(var c=0,f=this.length;c<f;c++){if(c in this){b[c]=e.call(d,this[c],c,this)}}return b},intersect:function(){if(!arguments.length){return[]}var e=this;var d=a2=null;var h=0;while(h<arguments.length){d=[];a2=arguments[h];var c=e.length;var b=a2.length;for(var g=0;g<c;g++){for(var f=0;f<b;f++){if(e[g]===a2[f]){d.push(e[g])}}}e=d;h++}return d.unique()},unique:function(){var c=[];var b=this.length;for(var e=0;e<b;e++){for(var d=e+1;d<b;d++){if(this[e]===this[d]){d=++e}}c.push(this[e])}return c}});Date.prototype.getElapsed=function(b){return Math.abs((b||new Date()).getTime()-this.getTime())};if(typeof(usig)=="undefined"){usig={}}usig.debug=function(b){if(window.console&&window.console.log){window.console.log(b)}};if(typeof(usig)=="undefined"){usig={}}usig.Location=function(c,b,d){this.lat=c;this.lng=b;this.desc=d;this.toString=function(){return this.desc||"Ubicación actual"};this.getCoordenadas=function(){return new usig.Punto(this.lng,this.lat)};this.setLatLng=function(f,e){this.lat=f;this.lng=e};this.getLatLng=function(){if(L&&L.latLng){return L.latLng(this.lat,this.lng)}else{return this.getCoordenadas()}}};jQuery.extendIf(usig,{loadingJs:[],loadingJsListeners:{},__callLoadJsListeners:function(c){for(var d=0,b=usig.loadingJsListeners[c].length;d<b;d++){usig.loadingJsListeners[c][d]()}},loadJs:function(c,f){if(usig.loadingJs.indexOf(c)<0){usig.loadingJs.push(c);usig.loadingJsListeners[c]=(typeof(f)=="function")?[f]:[];var b=document.createElement("script"),d=document.getElementsByTagName("head")[0],e=false;b.onload=b.onreadystatechange=function(){if((b.readyState&&b.readyState!=="complete"&&b.readyState!=="loaded")||e){return false}b.onload=b.onreadystatechange=null;e=true;usig.__callLoadJsListeners(c)};b.src=c;d.insertBefore(b,d.firstChild)}else{usig.loadingJsListeners[c].push(f)}},loadCss:function(b){var c=document.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("href",b);if(typeof c!="undefined"){document.getElementsByTagName("head")[0].appendChild(c)}},removeJs:function(b){var d=document.getElementsByTagName("script");for(var c=d.length;c>=0;c--){if(d[c]&&d[c].getAttribute("src")!=null&&d[c].getAttribute("src").indexOf(b)!=-1){d[c].parentNode.removeChild(d[c])}}},removeCss:function(b){var d=document.getElementsByTagName("link");for(var c=d.length;c>=0;c--){if(d[c]&&d[c].getAttribute("href")!=null&&d[c].getAttribute("href").indexOf(b)!=-1){d[c].parentNode.removeChild(d[c])}}},Animator:function(d,e,f,g){var c=0;function b(){if(d.length>c){e(d[c]);c++;setTimeout(b,f)}else{if(typeof(g)=="function"){g()}}}this.stop=function(){c=d.length+1};b()},parseUri:function(f){var b=["source","protocol","authority","domain","port","path","directoryPath","fileName","query","anchor"],c=new RegExp("^(?:([^:/?#.]+):)?(?://)?(([^:/?#]*)(?::(\\d*))?)((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[\\?#]|$)))*/?)?([^?#/]*))?(?:\\?([^#]*))?(?:#(.*))?").exec(f),e={};for(var d=0;d<10;d++){e[b[d]]=(c[d]?c[d]:"")}if(e.directoryPath.length>0){e.directoryPath=e.directoryPath.replace(/\/?$/,"/")}return e},getQueryParameters:function(b){b=b||document.location.search;return(!b&&{})||b.replace(/(^\?)/,"").split("&").map(function(c){return c=c.split("="),this[c[0]]=decodeURIComponent(c[1].replace(/\+/g," ")),this}.bind({}))[0]},geoLocate:function(h,e,c){var f={enableHighAccuracy:false,maximumAge:0,timeout:27000},g=jQuery.Deferred(),d=jQuery.extend({},f,c),b=this;if("geolocation" in navigator){navigator.geolocation.getCurrentPosition(function(j){var i=new usig.Location(j.coords.latitude,j.coords.longitude);g.resolve(i);if(typeof(h)=="function"){h(i)}},function(i){g.fail(i);if(typeof(e)=="function"){e(i)}},d)}else{return false}return g},registeredSuggesters:{},registeredSuggestersDesc:{},registerSuggester:function(b,c,d){usig.registeredSuggesters[b]=c;usig.registeredSuggestersDesc[b]=d},createSuggester:function(c,b){if(typeof(usig.registeredSuggesters[c])!="function"){throw"Suggester "+c+" is not registered.";return null}return new usig.registeredSuggesters[c](b)}});jQuery.expr[":"].Contains=function(c,d,b){return jQuery(c).text().toUpperCase().indexOf(b[3].toUpperCase())>=0};jQuery.expr[":"].ContainsFilter=function(c,d,b){if(c.innerHTML.indexOf("data-filter")>=0){var e=c.innerHTML.match(/data-filter\=\"(.*?)\"/)[1].toUpperCase().indexOf(b[3].toUpperCase())>=0}return jQuery(c).text().toUpperCase().indexOf(b[3].toUpperCase())>=0||e};(function(){var b=false,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;jQuery.Class=function(){};jQuery.Class.create=function(h){var g=this.prototype;b=true;var f=new this();b=false;for(var e in h){f[e]=typeof h[e]=="function"&&typeof g[e]=="function"&&c.test(h[e])?(function(i,j){return function(){var l=this._super;this._super=g[i];var k=j.apply(this,arguments);this._super=l;return k}})(e,h[e]):h[e]}function d(){if(!b&&d.prototype.init){return d.prototype.init.apply(this,arguments)}}d.prototype=f;d.prototype.constructor=d;d.extend=arguments.callee;return d}})();if(typeof(usig)=="undefined"){usig={}}usig.InputController=(function(b){return function(e,d){var h=document.getElementById(e);var c="";var g=b.extend({},usig.InputController.defaults,d);var i=function(k){var j=k.keyCode;if(window.event&&window.event.keyCode>0){j=window.event.keyCode}if(k.type!="blur"&&k.type!="focus"&&typeof(g.onKeyUp)=="function"){g.onKeyUp(j,h.value)}if(k.type!="blur"&&k.type!="focus"&&h.value!=c&&typeof(g.onChange)=="function"){c=h.value;g.onChange(h.value)}if(k.type=="blur"&&typeof(g.onBlur)=="function"){g.onBlur()}if(k.type=="focus"&&typeof(g.onFocus)=="function"){g.onFocus()}};var f=i.createDelegate(this);this.unbind=function(){b(h).unbind(g.events,f)};this.bind=function(){b(h).bind(g.events,f);c=b(h).val()};this.setOptions=function(j){g=b.extend({},g,j)};this.setValue=function(j){h.value=j;c=j};this.setFocus=function(){};if(!h){throw"InvalidField";return}else{this.bind()}}})(jQuery);usig.InputController.defaults={events:document.all?"blur keydown keyup input focus":"blur keydown input focus"};if(typeof(usig)=="undefined"){usig={}}usig.AutoCompleter=(function(b){return function(m,g,c){var d=document.getElementById(m),v=c,s=[],j={},w=b.extend({},usig.AutoCompleter.defaults,g),B=null,r=true,n=[],t=[],A=null,p={},u=0,l=false,h=false,I=false,e=null;d.setAttribute("autocomplete","off");this.unbind=function(){B.unbind();f();v.hide()};this.bind=function(){B.bind()};this.destroy=function(){this.unbind();v.remove();delete B;while(s.length>0){s.pop()}for(var N=0;N<n.length;N++){delete n[N]}};this.setViewControl=function(i){v=i;v.onSelection(K.createDelegate(this))};this.setOptions=function(i){w=b.extend({},w,i);v.setOptions(i)};this.addSuggester=function(Q,O){var N=typeof(Q)=="string"?Q:Q.name;if(typeof(j[N])=="undefined"){var i=Q;if(typeof(Q)=="string"){try{i=usig.createSuggester(N,{onReady:w.onReady,debug:w.debug,maxRetries:w.maxRetries,afterServerRequest:C.createDelegate(this,[N],1),afterServerResponse:G.createDelegate(this,[N],1),afterAbort:H.createDelegate(this,[N],1)})}catch(R){return false}}else{i.setOptions({debug:w.debug,maxRetries:w.maxRetries,afterServerRequest:C.createDelegate(this,[N],1),afterServerResponse:G.createDelegate(this,[N],1),afterAbort:H.createDelegate(this,[N],1)})}j[N]=i;p[N]=0;var P={inputPause:w.inputPause,maxSuggestions:w.maxSuggestions,serverTimeout:w.serverTimeout,minTextLength:w.minTextLength,maxRetries:w.maxRetries,showError:w.showError};P=b.extend({},P,O);s.push({suggester:i,options:P,inputTimer:null})}else{}};this.removeSuggester=function(N){if(typeof(j[N])!="undefined"){j[N]=undefined;for(var O=0;O<s.length;O++){if(s[O].suggester.name==N){s.removeObject(s[O]);break}}}else{}};this.setSuggesterOptions=function(O,N){if(typeof(j[O])!="undefined"){for(var P=0;P<s.length;P++){if(s[P].suggester.name==O){s[P].options=b.extend(s[P].options,N);break}}}else{}};this.getSuggesters=function(){var O={};for(var N=0;N<s.length;N++){O[s[N].suggester.name]=b.extend({},s[N].options)}return O};this.changeSkin=function(i){v.changeSkin(i)};this.getOptions=function(){return w};this.selectOption=function(i){return v.selectOption(i)};this.getNumSuggestions=function(){return v.getNumSuggestions()};this.getSuggestion=function(i){return v.getSuggestion(i)};this.hide=function(){v.hide()};this.getDialogControl=function(){return v};this.ready=function(N){var i=false;if(N){i=j[N].ready()}else{for(F=0;F<s.length;F++){i=i||s[F].suggester.ready()}}return i};this.setAndGo=function(i){B.setValue(i);I=true;D(i);e=b.Deferred();return e};this.clear=function(){B.setValue("");D("")};function z(){if(d.value!=""&&t.length>0){v.show(t,h)}if(I){I=false;v.selectOption();if(e){e.resolve()}}t=[];A=null}function y(P,Q){if(!Q){t=[];h=false}for(var O=0,N=P.length;O<N;O++){t.push(P[O])}if(!A){h=Q;A=z.defer(w.flushTimeout,this)}}function M(Q,P){var O=Q.suggester;var N=Q.options;i=function i(S,R){if(d.value==R){if(S.getErrorMessage!=undefined){try{if(!l&&N.showError){v.showMessage(S.getErrorMessage())}}catch(T){if(!l&&N.showError){v.showMessage(w.texts.nothingFound)}}}else{if(S.length==0){if(!l&&N.showError&&r){v.showMessage(w.texts.nothingFound)}}else{if(S instanceof Array){S=S.map(function(U){U.suggesterName=O.name;return U});if(w.flushTimeout>0){y(S,l)}else{v.show(S,l)}l=true;if(!r){v.hide()}}}}if(typeof(w.afterSuggest)=="function"){w.afterSuggest()}}else{}};O.getSuggestions(P,i.createDelegate(this,[P],1),N.maxSuggestions)}function f(){for(var N=0;N<s.length;N++){if(s[N].inputTimer){clearTimeout(s[N].inputTimer)}s[N].suggester.abort()}if(typeof(w.afterAbort)=="function"){w.afterAbort()}}function K(i){if(i){f();var N=i.toString();B.setValue(N);if(typeof(w.afterSelection)=="function"){w.afterSelection(i)}if(typeof(w.afterGeoCoding)=="function"){if(typeof(w.beforeGeoCoding)=="function"){w.beforeGeoCoding()}j[i.suggesterName].getGeoCoding(i,k)}B.setFocus()}}function J(i,O,N){if(i.descripcion!=undefined&&i.descripcion!=""){return'<li class="acv_op"><a href="#" class="acv_op" name="'+O+'"><span class="tl"/><span class="tr"/><span>'+N(i.toString())+'</span><span class="clase">('+i.descripcion+")</span></a></li>"}else{return'<li class="acv_op"><a href="#" class="acv_op" name="'+O+'"><span class="tl"/><span class="tr"/><span>'+N(i.toString())+"</span></a></li>"}}function D(P){try{f();v.update(P);if(typeof(w.onInputChange)=="function"){w.onInputChange(P)}}catch(N){throw (N)}l=false;for(var O=0;O<s.length;O++){if(P.length>=s[O].options.minTextLength){s[O].inputTimer=M.defer(s[O].options.inputPause,this,[s[O],P])}}}function o(i){v.keyUp(i)}function x(){r=false;if(w.hideOnBlur){v.hide.defer(300)}}function q(){r=true}function H(i){if(p[i]>0){p[i]--;u--}}function C(i){p[i]++;u++;if(typeof(w.afterServerRequest)=="function"){w.afterServerRequest()}}function G(i){if(p[i]>0){p[i]--;u--}if(typeof(w.afterServerResponse)=="function"&&u==0){w.afterServerResponse()}}function k(i){if(i instanceof usig.Suggester.GeoCodingTypeError){B.setValue(d.value+" ")}w.afterGeoCoding(i)}try{B=new usig.InputController(m,{onKeyUp:o.createDelegate(this),onChange:D.createDelegate(this),onBlur:x.createDelegate(this),onFocus:q.createDelegate(this),debug:w.debug})}catch(E){throw (E)}for(var F=0;F<w.suggesters.length;F++){this.addSuggester(w.suggesters[F].suggester,w.suggesters[F].options)}if(!v){v=new usig.AutoCompleterDialog(m,{maxOptions:w.maxOptions,rootUrl:w.rootUrl,debug:w.debug,skin:w.skin,autoSelect:w.autoSelect,autoHideTimeout:w.autoHideTimeout,optionsFormatter:J,onEnterWithoutSelection:w.onEnterWithoutSelection,idDiv:w.idOptionsDiv});n.push(v)}v.onSelection(K.createDelegate(this))}})(jQuery);usig.AutoCompleter.defaults={inputPause:200,maxSuggestions:10,serverTimeout:30000,minTextLength:3,maxRetries:1,showError:true,maxOptions:10,offsetY:-5,zIndex:10000,autoHideTimeout:10000,flushTimeout:0,hideOnBlur:true,autoSelect:true,rootUrl:"//servicios.usig.buenosaires.gob.ar/usig-js/dev/",skin:"bootstrap",idOptionsDiv:undefined,suggesters:[{suggester:"Direcciones",options:{inputPause:10,minTextLength:3}},{suggester:"Lugares",options:{inputPause:500,minTextLength:3,showError:false}}],debug:false,texts:{nothingFound:"No se hallaron resultados coincidentes con su b&uacute;squeda."}};if(typeof(usig)=="undefined"){usig={}}usig.AutoCompleterDialog=(function(b){return function(i,e){var c=document.getElementById(i),j=c.value,p=b.extend({},usig.AutoCompleterDialog.defaults,e),s=p.idDiv||"usig_acv_"+i,o=null,h=-1,r=false,d=false,m=0,x=null,g={},y={arrUp:38,arrDn:40,enter:13,esc:27};function l(){clearTimeout(o)}function q(){l();if(p.autoHideTimeout>0){o=t.defer(p.autoHideTimeout,this)}}function t(){if(x){x.fadeOut("slow")}}function u(z){l();if(x){b("#"+s+" div.content").html(z);x.show();h=-1}else{x=b('<div id="'+s+'" class="usig_acv">						<div class="header">							<div class="corner"/>							<div class="bar"/>						</div>						<div class="content">'+z+'</div>						<div class="footer">							<div class="corner"/>							<div class="bar"/>						</div>					</div>');var A=b(c).offset();x.css({position:"absolute",left:A.left+"px",top:(A.top+c.offsetHeight+parseInt(p.offsetY))+"px",width:c.offsetWidth,zIndex:p.zIndex});b("body").append(x);x.mouseover(l.createDelegate(this));x.mouseout(q.createDelegate(this));h=-1;x.show()}o=t.defer(p.autoHideTimeout,this)}function k(){if(x){h=-1;b("ul.options li.highlight",x).removeClass("highlight")}}function f(z){if(x){h=z;b("ul.options li.highlight",x).removeClass("highlight");if(typeof(z)=="string"){b('ul.options li:has(a[name="'+z+'"])',x).addClass("highlight");h=parseInt(z.replace(s,""))}else{b("ul.options li:has(a)",x).slice(z,z+1).addClass("highlight")}}}function n(z){var G=new z.constructor(z);G.marked=Array();var F=j.split(" ");for(var C=0;C<F.length;C++){var E=G.toLowerCase().indexOf(F[C].toLowerCase());if(E<0){var E=G.toLowerCase().indexOf(F[C].translate("áéíóúüÁÉÍÓÚÜàèìòùÀÈÌÒÙ","aeiouuAEIOUUaeiouAEIOU").toLowerCase())}if(E>=0){for(var D=0;D<F[C].length;D++){G.marked[E+D]=true}}}var B="";var A=false;for(var C=0;C<G.length;C++){if(G.marked[C]&&!A){B=B+"<em>"+G.substring(C,C+1);A=true}else{if((G.marked[C]&&A)||(!G.marked[C]&&!A)){B=B+G.substring(C,C+1)}else{B=B+"</em>"+G.substring(C,C+1);A=false}}}if(A){B=B+"</em>"}return B}function w(z){if(typeof(p.onSelection)=="function"){l();t();p.onSelection(z)}}function v(){l();h=-1;m=0;g={}}this.setOptions=function(z){p=b.extend({},p,z)};this.update=function(z){if(z==""&&x){x.hide()}j=z;v()};this.getOptions=function(){return p};this.show=function(A,z){var C="";var D=isNaN(parseInt(z))?0:parseInt(z);if(z!=undefined){if(D>0){b("ul.options li",x).slice(D).remove();m=b("ul.options li a",x).length}}else{m=0;g={}}var B=n;b.each(A,function(E,F){if(m>=p.maxOptions){return false}if(typeof(F)=="string"){C+='<li class="acv_op message">'+F+"</li>"}else{if(typeof(p.optionsFormatter)=="function"){C+=p.optionsFormatter(F,s+m,B);g[s+m]=F;m++}else{if(typeof(F.toString)=="function"){C+='<li class="acv_op"><a href="#" class="acv_op" name="'+s+m+'"><span class="tl"/><span class="tr"/><span>'+B(F.toString())+"</span></a></li>";g[s+m]=F;m++}}}});if((z===true||!isNaN(parseInt(z)))&&x&&b("ul.options li a",x).length>0){if(m>1&&d){d=false;k()}b("ul.options",x).append(C)}else{if(p.idDiv){x.html('<div class="content"><ul class="options">'+C+"</ul></div>");x.show()}else{u('<ul class="options">'+C+"</ul>")}}b("ul.options li.acv_op",x).mouseover((function(F,E){if(F.target.name){E(F.target.name)}else{E(b(F.target).parents("a").attr("name"))}r=true}).createDelegate(this,[f],1));b("ul.options li.acv_op",x).mouseout((function(E){if(r){r=false;k()}}).createDelegate(this));b("ul.options li.acv_op",x).click((function(F){F.preventDefault();var G=F.target?F.target:F.srcElement;var E=b(G).parents("a.acv_op").attr("name")||b("a.acv_op",b(G)).attr("name")||b(G).attr("name");w(g[E])}).createDelegate(this));if(p.autoSelect&&m==1){h=0;d=true;f(h)}};this.showMessage=function(z){if(p.idDiv){x.html('<div class="content"><div class="message">'+z+"</div></div>");x.show()}else{u('<div class="message">'+z+"</div>")}};this.keyUp=function(z){if(h==undefined){h=-1}if((z==y.arrDn||z==y.arrUp)&&m>0){if(x.css("display")!="block"){x.show()}else{q();h=z==y.arrDn?(h+1).constrain(0,m-1):(h-1).constrain(0,m-1);f(h)}}if(y.enter==z){if(x&&x.css("display")!="block"){if(typeof(p.onEnterWithoutSelection)=="function"){p.onEnterWithoutSelection(j)}x.show()}else{if(h>=0||m==1){if(h>=0){w(g[s+h])}else{w(g[s+"0"])}}else{if(m>0&&typeof(p.onEnterWithoutSelection)=="function"){p.onEnterWithoutSelection(j)}}}}if(y.esc==z){l();t()}};this.remove=function(){l();if(x){x.remove()}};this.onSelection=function(z){if(typeof(z)=="function"){p.onSelection=z}};this.selectOption=function(z){if(z){if(m>z){if(x.css("display")!="block"){x.show()}f(z);w(g[s+h]);return true}}else{if(m>0){var B=0;for(var A=0;A<m;A++){if(j==g[s+A].toString()){B=A}}w(g[s+B]);return true}}return false};this.getNumSuggestions=function(){return m};this.getSuggestion=function(z){var A=z||0;if(m>A){return g[s+A]}return false};this.changeSkin=function(z){usig.removeCss(p.rootUrl+"css/usig.AutoCompleterDialog."+p.skin+".css");p.skin=z;usig.loadCss(p.rootUrl+"css/usig.AutoCompleterDialog."+p.skin+".css")};this.hide=function(){l();if(x){x.hide()}};if(p.skin!="custom"){usig.loadCss(p.rootUrl+"css/usig.AutoCompleterDialog."+p.skin+".css")}if(p.idDiv){x=b("#"+p.idDiv);x.addClass("usig_acv")}}})(jQuery);usig.AutoCompleterDialog.defaults={maxOptions:10,debug:false,offsetY:-5,zIndex:10000,autoHideTimeout:5000,autoSelect:true,rootUrl:"//servicios.usig.buenosaires.gob.ar/usig-js/dev/",skin:"usig4"};if(typeof(usig)=="undefined"){usig={}}usig.Suggester=(function(b){return jQuery.Class.create({init:function(d,c){this.name=d;this.cleanList=[];this.opts=b.extend({},usig.Suggester.defaults,c)},getSuggestions:function(c,e,d){throw new usig.Suggester.MethodNotImplemented()},getGeoCoding:function(c,d){throw new usig.Suggester.MethodNotImplemented()},abort:function(){},setOptions:function(c){this.opts=b.extend({},this.opts,c)},getOptions:function(){return this.opts},ready:function(){throw new usig.Suggester.MethodNotImplemented()},destroy:function(){for(var c=0;c<this.cleanList.length;c++){delete this.cleanList[c]}}})})(jQuery);usig.Suggester.defaults={debug:false,serverTimeout:15000,maxRetries:5,maxSuggestions:10};usig.Suggester.MethodNotImplemented=function(){this.msg="Suggester: Method Not Implemented.";this.toString=function(){return this.msg}};usig.Suggester.GeoCodingTypeError=function(){this.msg="Suggester: Wrong object type for geocoding.";this.toString=function(){return this.msg}};if(typeof(usig)=="undefined"){usig={}}usig.AjaxComponent=(function(b){return jQuery.Class.create({init:function(f,c,e){this.name=f;var d=e.dataType||(window.location.host==usig.parseUri(c).authority?"json":"jsonp");this.defaultParams={type:"GET",url:c,dataType:d};this.opts=b.extend({},usig.AjaxComponent.defaults,e)},mkRequest:function(h,l,j,e){var d=null,i=0,n=b.Deferred();function c(o,p){clearTimeout(d);if(typeof(this.opts.afterServerResponse)=="function"){this.opts.afterServerResponse()}p(o);n.resolve(o)}function g(o,p){if(i>=this.opts.maxRetries){clearTimeout(d);if(typeof(p)=="function"){p(o)}n.reject(o)}else{}}function k(o,q){if(o!=null&&o.readyState!=0&&o.readyState!=4){o.abort();if(typeof(this.opts.afterAbort)=="function"){this.opts.afterAbort()}if(this.opts.maxRetries>i){i++;var p=b.ajax(q);if(typeof(this.opts.afterRetry)=="function"){this.opts.afterRetry()}d=setTimeout(k.createDelegate(this,[p,m]),this.opts.serverTimeout)}else{if(typeof(q.error)=="function"){q.error("Se produjo un error al intentar acceder al servidor: "+q.url)}}}}if(typeof(l)!="function"){return}if(typeof(j)!="undefined"&&typeof(j)!="function"){return}var m=b.extend(true,{},this.defaultParams,{success:c.createDelegate(this,[l],1),error:g.createDelegate(this,[j],1),data:h});if(e){m.url=e}var f=b.ajax(m);if(typeof(this.opts.afterServerRequest)=="function"){this.opts.afterServerRequest()}if(this.opts.serverTimeout>0){d=setTimeout(k.createDelegate(this,[f,m]),this.opts.serverTimeout)}return n},setOptions:function(c){this.opts=b.extend({},this.opts,c)},getOptions:function(){return this.opts}})})(jQuery);usig.AjaxComponent.defaults={debug:false,serverTimeout:30000,maxRetries:1};if(typeof(usig)=="undefined"){usig={}}usig.Punto=function(c,b){this.x=this.lon=c;this.y=this.lat=b;this.getX=function(){return this.x};this.getY=function(){return this.y};this.toJson=function(){return'{ "x":'+this.x+', "y": '+this.y+" }"};this.toString=function(){return"("+this.x+", "+this.y+")"}};usig.Punto.fromWkt=function(c){var d=/^POINT *\((-?[0-9]+\.[0-9]+) (-?[0-9]+\.[0-9]+)\)$/;var b=null;if(resMatch=c.match(d)){b=new usig.Punto(resMatch[1],resMatch[2])}return b};usig.Punto.fromPunto=function(b){return new usig.Punto(b.getX(),b.getY())};usig.Punto.fromObj=function(b){return new usig.Punto(b.x,b.y)};usig.Punto.fromArray=function(b){return new usig.Punto(b[0],b[1])};if(typeof(usig)=="undefined"){usig={}}if(typeof(usig.Calle)=="undefined"){usig.Calle=function(b,c,e,d){this.codigo=b;this.nombre=c;this.alturaValida=function(g){if(e instanceof Array){if(e.length==0){throw (new usig.ErrorCalleSinAlturas(this.nombre));return false}var f=false;for(a in e){f=f||((parseInt(e[a][0])<=parseInt(g))&&(parseInt(e[a][1])>=parseInt(g)))}return f}};this.getTramos=function(){return e};this.toString=function(){return this.nombre};this.seCruzaCon=function(f){if(d){return d.indexOf(f.codigo)>=0}};this.toJson=function(){return{codigo:this.codigo,nombre:this.nombre}};this.isEqual=function(f){return this.codigo==f.codigo};this.setPartido=function(f){this.partido=f||"Ciudad Autónoma de Buenos Aires"};this.setLocalidad=function(f){this.localidad=f||""}};usig.Calle.fromObj=function(b){var d=new usig.Calle(b.codigo||b.cod_calle,b.nombre||b.calle||b.nombre_calle);d.setPartido(b.nombre_partido);d.setLocalidad(b.nombre_localidad);return d}}if(typeof(usig)=="undefined"){usig={}}if(typeof(usig.Direccion)=="undefined"){usig.Direccion=(function(b){return function(c,g){var f=null;var j=null;var i=0;var e=null;var h="";var d=null;if(c instanceof usig.Calle){f=c}else{return null}if(g instanceof usig.Calle){j=g;e=usig.Direccion.CALLE_Y_CALLE}else{if(!isNaN(parseInt(g))){e=usig.Direccion.CALLE_ALTURA;i=parseInt(g)}else{return null}}this.getCalle=function(){return f};this.getCalleCruce=function(){if(e==usig.Direccion.CALLE_Y_CALLE){return j}else{return null}};this.getAltura=function(){return i};this.getTipo=function(){return e};this.toString=function(){if(e==usig.Direccion.CALLE_ALTURA){res=f.toString()+" "+(i>0?i:"S/N")}else{var k=j.nombre;var l=k.match(/^(I|Hi|HI).*/)?" e ":" y ";res=f.nombre+l+j.nombre}if(f.partido!=undefined){res=res+", "+f.localidad}return res};this.setCoordenadas=function(k){d=usig.Punto.fromPunto(k)};this.setSmp=function(k){h=k};this.getCoordenadas=function(){return d};this.getSmp=function(){return h};this.clone=function(){var k=new usig.Direccion(f,g);return b.extend(true,k,this)};this.toJson=function(){return{tipo:e,calle:f.toJson(),altura:i,calle_cruce:j?j.toJson():null,smp:h,coordenadas:d}};this.isEqual=function(k){var l=(k instanceof usig.Direccion&&(e==k.getTipo())&&((e==usig.Direccion.CALLE_ALTURA&&f.isEqual(k.getCalle())&&i==k.getAltura())||(e==usig.Direccion.CALLE_Y_CALLE&&((f.isEqual(k.getCalle())&&j.isEqual(k.getCalleCruce()))||(f.isEqual(k.getCalleCruce())&&j.isEqual(k.getCalle()))))));return l}}})(jQuery);usig.Direccion.CALLE_ALTURA=0;usig.Direccion.CALLE_Y_CALLE=1;usig.Direccion.fromObj=function(e){var b=null;if(e.tipo!=undefined&&e.calle&&e.calle.codigo){b=new usig.Direccion(usig.Calle.fromObj(e.calle),(e.tipo==usig.Direccion.CALLE_ALTURA)?e.altura:usig.Calle.fromObj(e.calle_cruce))}else{var d=usig.Calle.fromObj(e);if(e.cod_calle2||e.cod_calle_cruce){var c=new usig.Calle(e.cod_calle2||e.cod_calle_cruce,e.calle2||e.nombre_calle_cruce);c.setPartido(e.nombre_partido);c.setLocalidad(e.nombre_localidad);b=new usig.Direccion(d,c)}else{b=new usig.Direccion(d,e.altura)}if(e.nombre_partido){b.descripcion=e.nombre_localidad+", "+e.nombre_partido}}if(e.smp!=undefined&&e.smp!=null){b.setSmp(e.smp)}if(e.coordenadas!=undefined&&e.coordenadas!=null){if(typeof(e.coordenadas)=="string"){b.setCoordenadas(usig.Punto.fromWkt(e.coordenadas))}else{b.setCoordenadas(usig.Punto.fromObj(e.coordenadas))}}return b}}if(typeof(usig)=="undefined"){usig={}}usig.GeoCoder=(function(b){return usig.AjaxComponent.extend({metodos:["interpolacion","puertas","centroide"],init:function(c){var d=b.extend({},usig.GeoCoder.defaults,c);this._normalizadorCaba=usig.NormalizadorDirecciones.init({aceptarCallesSinAlturas:false,callesEnMinusculas:true});this._super("GeoCoder",usig.GeoCoder.defaults.server,d)},validarMetodo:function(c){if(c!=undefined){if(this.metodos.indexOf(c)>=0){return c}}else{if(this.opts.metodo!=undefined){return this.opts.metodo}}return undefined},onSuccess:function(c,d){if(typeof(c)!="string"){d(new usig.Punto(c.x,c.y))}else{d(c)}},geoCodificarDireccion:function(d,f,c,e){if(!(d instanceof usig.Direccion)){throw ("dir debe ser una instancia de usig.Direccion");return}if(d.getTipo()==usig.Direccion.CALLE_ALTURA){this.geoCodificarCodigoDeCalleAltura(d.getCalle().codigo,d.getAltura(),f,c,e)}else{this.geoCodificar2CodigosDeCalle(d.getCalle().codigo,d.getCalleCruce().codigo,f,c)}},geoCodificarCalleAltura:function(f,h,g,c,d){if(!h.isInteger()){throw ("altura tiene que ser un entero");return}var e={cod_calle:f,altura:h};d=this.validarMetodo(d);if(d!=undefined){e.metodo=d}this.mkRequest(e,this.onSuccess.createDelegate(this,[g],1),c,this.opts.server+"geocoding/")},geoCodificarCodigoDeCalleAltura:function(e,h,g,c,d){if(!e.isInteger()){throw ("codCalle tiene que ser un entero");return}if(!h.isInteger()){throw ("altura tiene que ser un entero");return}var f={cod_calle:e,altura:h};d=this.validarMetodo(d);if(d!=undefined){f.metodo=d}this.mkRequest(f,this.onSuccess.createDelegate(this,[g],1),c,this.opts.server+"geocoding/")},geoCodificarCalleYCalle:function(d,c,g,e){var f={cod_calle1:d,cod_calle2:c};this.mkRequest(f,this.onSuccess.createDelegate(this,[g],1),e,this.opts.server+"geocoding/")},geoCodificar2CodigosDeCalle:function(g,e,f,c){if(!g.isInteger()){throw ("codCalle1 tiene que ser un entero");return}if(!e.isInteger()){throw ("codCalle2 tiene que ser un entero");return}var d={cod_calle1:g,cod_calle2:e};this.mkRequest(d,this.onSuccess.createDelegate(this,[f],1),c,this.opts.server+"geocoding/")},reverseGeoCoding:function(c,g,f,d){var e={x:c,y:g};return this.mkRequest(e,f,d,this.opts.server+"reversegeocoding/")},getSMP:function(g,f,e,c){var d={cod_calle:g,altura:f};this.mkRequest(d,e,c,this.opts.server+"smp/")},reverse:function(i,c,k,j){var m=b.Deferred(),d=null,f=null,h=null,e=this.reverseGeoCoding(c,i,function(n){d=n},function(n){h=n}),g=this.mkRequest({lat:i,lng:c},function(n){f=n},function(n){h=n},this.opts.reverseService);var l=this;b.when(e,g).then(function(){if(f&&f.direccion){var n=usig.Direccion.fromObj(f);n.clase="DireccionesAMBA";m.resolve(n);if(typeof(k)=="function"){k(n)}}else{if(d){try{var n=l._normalizadorCaba.normalizar(d.esquina)[0];n.setCoordenadas(new usig.Punto(c,i));n.clase="Direcciones";m.resolve(n);if(typeof(k)=="function"){k(n)}}catch(o){}}else{m.fail();if(typeof(j)=="function"){j(o)}}}});return m}})})(jQuery);usig.GeoCoder.defaults={debug:false,server:"//ws.usig.buenosaires.gob.ar/geocoder/2.2/",reverseService:"//servicios.usig.buenosaires.gob.ar/normalizar/",metodo:undefined};if(typeof(usig)=="undefined"){usig={}}if(typeof(usig.inventario)=="undefined"){usig.inventario={}}usig.inventario.Objeto=(function(b){return function(c,d){this.id=0;this.nombre=usig.inventario.Objeto.defaults.texts.noName;this.ubicacion=null;this.clase=d;this.direccionAsociada=null;this.fechaAlta=null;this.fechaUltimaModificacion=null;this.datos={};this.rawData={};this.descripcion=null;if(d!=undefined){this.descripcion=d.getNombre()}this.fill=function(f){if(f.id){this.id=f.id}if(f.nombre){this.nombre=f.nombre}if(f.ubicacion){this.ubicacion=new usig.inventario.Ubicacion(f.ubicacion);this.rawData.ubicacion=f.ubicacion}if(f.fechaAlta){this.fechaAlta=new Date(f.fechaAlta);this.rawData.fechaAlta=f.fechaAlta}if(f.fechaUltimaModificacion){this.fechaUltimaModificacion=new Date(f.fechaUltimaModificacion);this.rawData.fechaUltimaModificacion=f.fechaUltimaModificacion}if(f.direccionAsociada){try{this.direccionAsociada=usig.Direccion.fromObj(f.direccionAsociada);this.rawData.direccionAsociada=f.direccionAsociada}catch(g){}}else{if(f.direccionNormalizada&&usig.NormalizadorDirecciones){try{this.direccionAsociada=usig.NormalizadorDirecciones.normalizar(f.direccionNormalizada,10,true)[0];this.direccionAsociada.setCoordenadas(this.ubicacion.getCentroide());if(f.smp){this.direccionAsociada.setSmp(f.smp)}this.rawData.direccionAsociada=this.direccionAsociada.toJson()}catch(g){}}}if(f.contenido){var h=this.datos;b.each(f.contenido,function(j,e){h[e.nombreId]={alias:e.nombre,valor:e.valor,pos:e.posicion}});if(this.datos.nombre){this.nombre=this.datos.nombre.valor}}this.rawData=b.extend(this.rawData,f)};this.toString=function(){return this.nombre};this.getRawData=function(){return this.rawData};this.clone=function(){var e=new usig.inventario.Objeto(c,d);return b.extend(true,e,this)};this.toJson=function(){var e=this.getRawData();if(this.clase&&this.clase.toJson){e.clase=this.clase.toJson()}if(this.direccionAsociada&&this.direccionAsociada.toJson){e.direccionAsociada=this.direccionAsociada.toJson()}return e};this.isEqual=function(e){return e instanceof usig.inventario.Objeto&&e.id==this.id};this.getSmp=function(){return this.rawData.smp||(this.direccionAsociada?this.direccionAsociada.getSmp():"")};this.getCoordenadas=function(){if(this.ubicacion){return this.ubicacion.getCentroide()}else{if(this.direccionAsociada){return this.direccionAsociada.getCoordenadas()}}};this.setCoordenadas=function(e){this.ubicacion=new usig.inventario.Ubicacion(e)};this.fill(c);this.rawData=b.extend(this.rawData,c)}})(jQuery);usig.inventario.Objeto.fromObj=function(b){return new usig.inventario.Objeto(b,usig.inventario.Clase.fromObj(b.clase))};usig.inventario.Objeto.defaults={texts:{noName:"Sin Nombre"}};if(typeof(usig)=="undefined"){usig={}}usig.SuggesterDirecciones=(function(b){return usig.Suggester.extend({init:function(c){var d=b.extend({},usig.SuggesterDirecciones.defaults,c);this._super("Direcciones",d);if(!this.opts.normalizadorDirecciones){this.opts.normalizadorDirecciones=usig.NormalizadorDirecciones.init({aceptarCallesSinAlturas:this.opts.acceptSN,callesEnMinusculas:this.opts.callesEnMinusculas,onReady:this.opts.onReady});this.cleanList.push(this.opts.normalizadorDirecciones)}if(!this.opts.geoCoder){this.opts.geoCoder=new usig.GeoCoder(this.opts);this.cleanList.push(this.opts.geoCoder)}},getSuggestions:function(f,i,h){var c=h!=undefined?h:this.opts.maxSuggestions;try{var e=this.opts.normalizadorDirecciones.normalizar(f,c);e.map(function(j){j.descripcion="Ciudad Autónoma de Buenos Aires"});i(e)}catch(d){if(this.opts.ignorarTextoSobrante){try{var g=this.opts.normalizadorDirecciones.buscarDireccion(f);if(g!==false){var e=[g.match];e.map(function(j){j.descripcion="Ciudad Autónoma de Buenos Aires"});i(e)}else{i(d)}}catch(d){i(d)}}else{i(d)}}},getGeoCoding:function(c,d){if(!(c instanceof usig.Direccion)){d(new usig.Suggester.GeoCodingTypeError())}else{this.opts.geoCoder.geoCodificarDireccion(c,d)}},ready:function(){return this.opts.normalizadorDirecciones.listo()},setOptions:function(c){opts=b.extend({},this.opts,c);this._super(opts);this.opts.geoCoder.setOptions(opts)}})})(jQuery);usig.SuggesterDirecciones.defaults={debug:false,serverTimeout:5000,maxRetries:5,maxSuggestions:10,acceptSN:true,callesEnMinusculas:true,ignorarTextoSobrante:false};usig.registerSuggester("Direcciones",usig.SuggesterDirecciones,"Permite buscar direcciones por calle y altura o intersección dentro de la Ciudad de Buenos Aires");